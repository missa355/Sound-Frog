{"ast":null,"code":"import React from'react';import\"./search.css\";import{Redirect}from'react-router-dom';import axios from\"axios\";import Sample2 from\"../Pages/search_layout/sample\";import{getFromStorage}from\"../utils/storage\";export default function search(){// return <Redirect to='/login' />\nvar obj=getFromStorage('the_main_app');if(obj&&obj.token){//verify token\nconsole.log(\"token not null\");var token={token:obj.token};// var status = true;\naxios.post(\"http://localhost:5000/verify\",token).then(function(res){return localStorage.setItem(\"valid\",JSON.stringify(res.data.Success));});if(localStorage.getItem('valid')){console.log(\"valid token\");return React.createElement(\"div\",null,React.createElement(Sample2,null));}}return React.createElement(Redirect,{to:\"/login\"});}","map":{"version":3,"sources":["/home/missa355/Tunes/src/Pages/search.js"],"names":["React","Redirect","axios","Sample2","getFromStorage","search","obj","token","console","log","post","then","res","localStorage","setItem","JSON","stringify","data","Success","getItem"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,cAAP,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,+BAApB,CACA,OAAQC,cAAR,KAA6B,kBAA7B,CAIA,cAAe,SAASC,CAAAA,MAAT,EAAkB,CAC7B;AACA,GAAMC,CAAAA,GAAG,CAAGF,cAAc,CAAC,cAAD,CAA1B,CACA,GAAIE,GAAG,EAAIA,GAAG,CAACC,KAAf,CAAqB,CACjB;AACAC,OAAO,CAACC,GAAR,CAAY,gBAAZ,EACA,GAAMF,CAAAA,KAAK,CAAG,CAACA,KAAK,CAAED,GAAG,CAACC,KAAZ,CAAd,CAEA;AACAL,KAAK,CAACQ,IAAN,CAAW,8BAAX,CAA2CH,KAA3C,EACCI,IADD,CACM,SAAAC,GAAG,QAAIC,CAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BC,IAAI,CAACC,SAAL,CAAeJ,GAAG,CAACK,IAAJ,CAASC,OAAxB,CAA9B,CAAJ,EADT,EAGA,GAAGL,YAAY,CAACM,OAAb,CAAqB,OAArB,CAAH,CAAiC,CACzBX,OAAO,CAACC,GAAR,CAAY,aAAZ,EACA,MACR,gCACI,oBAAC,OAAD,MADJ,CADQ,CAMH,CAGR,CACD,MACC,qBAAC,QAAD,EAAU,EAAE,CAAC,QAAb,EADD,CAKH","sourcesContent":["import React from 'react'\nimport \"./search.css\"\nimport { Redirect } from 'react-router-dom'\nimport axios from \"axios\"\nimport Sample2 from \"../Pages/search_layout/sample\"\nimport {getFromStorage} from \"../utils/storage\"\n\n\n\nexport default function search() {\n    // return <Redirect to='/login' />\n    const obj = getFromStorage('the_main_app');    \n    if (obj && obj.token){\n        //verify token\n        console.log(\"token not null\")\n        const token = {token: obj.token}\n\n        // var status = true;\n        axios.post(\"http://localhost:5000/verify\", token)\n        .then(res => localStorage.setItem(\"valid\", JSON.stringify(res.data.Success)));\n        \n        if(localStorage.getItem('valid')){\n                console.log(\"valid token\")\n                return (\n        <div>\n            <Sample2/>\n\n        </div>\n                );\n            }\n\n\n    }\n    return (\n     <Redirect to='/login' />\n\n    );\n\n}\n"]},"metadata":{},"sourceType":"module"}