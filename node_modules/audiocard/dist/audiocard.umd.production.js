!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("react"),require("styled-components")):"function"==typeof define&&define.amd?define(["exports","react","styled-components"],n):n((e=e||self).AudioCard={},e.React,e.StyledComponents)}(this,function(e,n,t){"use strict";var r="default"in n?n.default:n,o="default"in t?t.default:t,a=function(){return(a=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)};function l(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&(t[r[o]]=e[r[o]])}return t}function c(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}var i,u,s,f,d,p,m,v=function(e){return r.createElement("svg",a({viewBox:"0 0 1.25 1.25",display:"block"},e),r.createElement("path",{fill:"currentColor",d:"M.25.125l1 .5-1 .5z"}))},h=function(e){return r.createElement("svg",a({viewBox:"0 0 1 1",display:"block"},e),r.createElement("g",{fill:"currentColor"},r.createElement("path",{d:"M.15.15h.262v.7H.15zM.588.15H.85v.7H.588z"})))},g=function(e){var n=e.seconds,t=l(e,["seconds"]);return r.createElement("svg",a({viewBox:"0 0 71 71"},t),r.createElement("defs",null,r.createElement("clipPath",{id:"prefix__a"},r.createElement("path",{d:"M.5 71.5V.5h71v71z"}))),r.createElement("g",{clipPath:"url(#prefix__a)",transform:"matrix(-1 0 0 1 71 0)"},r.createElement("path",{d:"M61.5 35.5c0 7-2 14-8 20-10 11-28 11-39 0-10-11-10-28 0-39 6-6 14-8 21-8h1",fill:"none",strokeWidth:3,stroke:"currentColor",strokeLinecap:"square"}),r.createElement("path",{d:"M61.5 35.5h-6M12.5 35.5h-6M34.5 57.5v6",fill:"none",strokeWidth:3,stroke:"currentColor"}),r.createElement("path",{d:"M34 1l11 7-11 7v-1V0zM45 1l12 7-12 7v-1V0z",fill:"currentColor"})),r.createElement("text",{x:23,y:44,fontSize:23,fill:"currentColor",className:"prefix__svgcentertext"},n))},x=function(e){var n=e.seconds,t=l(e,["seconds"]);return r.createElement("svg",a({viewBox:"0 0 71 71"},t),r.createElement("defs",null,r.createElement("clipPath",{id:"prefix__a"},r.createElement("path",{d:"M.5 71.5V.5h71v71z"}))),r.createElement("g",{clipPath:"url(#prefix__a)"},r.createElement("path",{d:"M61.5 35.5c0 7-2 14-8 20-10 11-28 11-39 0-10-11-10-28 0-39 6-6 14-8 21-8h1",fill:"none",strokeWidth:3,stroke:"currentColor",strokeLinecap:"square"}),r.createElement("path",{d:"M61.5 35.5h-6M12.5 35.5h-6M34.5 57.5v6",fill:"none",strokeWidth:3,stroke:"currentColor"}),r.createElement("path",{d:"M34 1l11 7-11 7v-1V0zM45 1l12 7-12 7v-1V0z",fill:"currentColor"})),r.createElement("text",{x:22,y:44,fontSize:23,fill:"currentColor",className:"prefix__svgcentertext"},n))},w=function(e){var n=e.background,t=e.completeBackground,o=e.color,a=e.seek,l=e.total,c=e.value,i=e.size,u=r.useRef(null);return r.createElement(k,{ref:u,color:n,style:{height:i,minHeight:i}},r.createElement(E,{value:c,max:l||0,background:n,completeBackground:t}),r.createElement(C,{value:c,max:l||0,color:o,size:i,onChange:function(e){return a(Number(e.target.value))}}))},k=o.div(i||(i=c(["\n  position: relative;\n"],["\n  position: relative;\n"]))),b=t.css(u||(u=c(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n"],["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n"]))),y=function(e){var n=e.completeBackground;return t.css(s||(s=c(["\n  background-color: ",";\n"],["\n  background-color: ",";\n"])),n)},E=o.progress(f||(f=c(["\n  ","\n  background-color: ",";\n  box-shadow: inset 1px 1px 2px rgba(0, 0, 0, 0.3);\n  &[value]::-webkit-progress-value {\n    ","\n  }\n  &[value]::-moz-progress-value {\n    ","\n  }\n  &[value]::-webkit-progress-bar {\n    background-color: ",";\n  }\n"],["\n  ","\n  background-color: ",";\n  box-shadow: inset 1px 1px 2px rgba(0, 0, 0, 0.3);\n  &[value]::-webkit-progress-value {\n    ","\n  }\n  &[value]::-moz-progress-value {\n    ","\n  }\n  &[value]::-webkit-progress-bar {\n    background-color: ",";\n  }\n"])),b,function(e){return e.background},y,y,function(e){return e.background}),z=function(e){var n=e.color,r=e.size;return t.css(d||(d=c(["\n  background-color: ",";\n  height: ","px;\n  width: ","px;\n  appearance: none;\n  cursor: grab;\n"],["\n  background-color: ",";\n  height: ","px;\n  width: ","px;\n  appearance: none;\n  cursor: grab;\n"])),n,r,r/2)},M=t.css(p||(p=c(["\n  ","\n  background-color: transparent;\n  border: 0;\n  margin: 0;\n  appearance: none;\n"],["\n  ","\n  background-color: transparent;\n  border: 0;\n  margin: 0;\n  appearance: none;\n"])),b),C=o.input.attrs({type:"range"})(m||(m=c(["\n  &:focus {\n    outline: none;\n  }\n  ","\n  &[value]::-moz-range-track {\n    ","\n  }\n  &[value]::-webkit-slider-thumb {\n    ","\n  }\n  &[value]::-moz-slider-thumb {\n    ","\n  }\n"],["\n  &:focus {\n    outline: none;\n  }\n  ","\n  &[value]::-moz-range-track {\n    ","\n  }\n  &[value]::-webkit-slider-thumb {\n    ","\n  }\n  &[value]::-moz-slider-thumb {\n    ","\n  }\n"])),M,M,z,z);function S(e){return n.createElement("div",{className:e.className},function(e){if(void 0===e||isNaN(e))return"-:--";var n=Math.floor(e/3600),t=Math.floor(e/60)%60,r=Math.floor(e%60);return(n?n+":":"")+(n?("0"+t).slice(-2):t)+":"+("0"+r).slice(-2)}(e.value))}function O(e,t){Object.keys(t).forEach(function(r){return function(e,t,r){var o=n.useRef();n.useEffect(function(){o.current=r},[r]),n.useEffect(function(){var n=function(e){return o.current&&o.current(e)};return e.current&&e.current.addEventListener(t,n),function(){e.current&&e.current.removeEventListener(t,n)}},[t,e.current])}(e,r,t[r])})}function j(e){return function(n){n.preventDefault(),e()}}var B=750,_=225,N=B/_;var P,H,L,R,T,F,V,q,W=o.div(P||(P=c(["\n  width: 100%;\n  max-width: 100%;\n  display: flex;\n  flex-flow: row nowrap;\n  * {\n    font-family: 'San Francisco', 'Helvetica Neue', Helvetica, sans-serif;\n    line-height: 1em;\n  }\n  ","\n  color: ",";\n  a {\n    color: ",";\n    text-decoration: none;\n    &:active {\n      color: ",";\n    }\n  }\n"],["\n  width: 100%;\n  max-width: 100%;\n  display: flex;\n  flex-flow: row nowrap;\n  * {\n    font-family: 'San Francisco', 'Helvetica Neue', Helvetica, sans-serif;\n    line-height: 1em;\n  }\n  ","\n  color: ",";\n  a {\n    color: ",";\n    text-decoration: none;\n    &:active {\n      color: ",";\n    }\n  }\n"])),function(e){var n=e.background;return n&&"background-color: "+n+";"},function(e){return e.color},function(e){return e.color},function(e){return e.color}),A=o.div(H||(H=c(["\n  flex: 1;\n  display: flex;\n  flex-flow: column nowrap;\n  padding: 0;\n"],["\n  flex: 1;\n  display: flex;\n  flex-flow: column nowrap;\n  padding: 0;\n"]))),J=o.div(L||(L=c(["\n  flex: 1;\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: space-between;\n"],["\n  flex: 1;\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: space-between;\n"]))),D=o.div(R||(R=c(["\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: space-between;\n  margin: 0 5px 5px 5px;\n"],["\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: space-between;\n  margin: 0 5px 5px 5px;\n"]))),G=o.a.attrs({href:"#"})(T||(T=c(["\n  text-decoration: none;\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: center;\n  margin: 5px;\n  width: 15%;\n"],["\n  text-decoration: none;\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: center;\n  margin: 5px;\n  width: 15%;\n"]))),I=o.img(F||(F=c([""],[""]))),K=o.div(V||(V=c(["\n  text-align: center;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"],["\n  text-align: center;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]))),Q=o.a.attrs({target:"_blank"})(q||(q=c(["\n  display: block;\n  text-align: center;\n  &:hover {\n    text-decoration: underline;\n  }\n"],["\n  display: block;\n  text-align: center;\n  &:hover {\n    text-decoration: underline;\n  }\n"])));e.default=function(e){var t=e.art,r=e.autoPlay,o=e.background,a=e.className,l=e.color,c=void 0===l?"#666":l,i=e.link,u=e.linkText,s=e.preload,f=void 0===s?"none":s,d=e.progressBarBackground,p=void 0===d?"#ddd":d,m=e.progressBarCompleteBackground,k=void 0===m?"#aaa":m,b=e.skipBackSeconds,y=e.skipForwardSeconds,E=e.source,z=e.title,M=function(){var e=n.useState(!1),t=e[0],r=e[1],o=n.useState(),a=o[0],l=o[1],c=n.useState(0),i=c[0],u=c[1],s=n.useRef(null),f=function(){return l(s.current?s.current.duration:void 0)},d=function(){return u(s.current?s.current.currentTime:0)};return O(s,{play:function(){return r(!0)},pause:function(){return r(!1)},ended:function(){return r(!1)},durationchange:f,seeked:d,timeupdate:d,loadedmetadata:f}),{playerRef:s,playing:t,time:i,duration:a,play:j(function(){return s.current&&s.current.play()}),pause:j(function(){return s.current&&s.current.pause()}),seek:function(e){return s.current&&(s.current.currentTime=e<0?0:Math.min(e,s.current.duration))},skipForward:function(e){return s.current&&(s.current.currentTime=Math.min(s.current.currentTime+e,s.current.duration))},skipBack:function(e){return s.current&&(s.current.currentTime=Math.max(s.current.currentTime-e,0))}}}(),C=M.playerRef,P=M.playing,H=M.time,L=M.duration,R=M.play,T=M.pause,F=M.seek,V=M.skipForward,q=M.skipBack,U=function(){var e=n.useState({}),t=e[0],r=e[1],o=n.useState(null),a=o[0],l=o[1],c=n.useCallback(function(e){l(e)},[]);return n.useLayoutEffect(function(){if(a){var e=function(){return window.requestAnimationFrame(function(){return r(function(e){var n=e.getBoundingClientRect();return n.toJSON?n.toJSON():{width:n.width,height:n.height,top:n.top||n.x,left:n.left||n.left,x:n.x||n.left,y:n.y||n.top,right:n.right,bottom:n.bottom}}(a))})};return e(),window.addEventListener("resize",e),window.addEventListener("scroll",e),function(){window.removeEventListener("resize",e),window.removeEventListener("scroll",e)}}},[a]),[c,t,a]}(),X=U[1].width,Y=X/N,Z=function(e){return e*Y/_},$=function(e){return e*X/B};return n.createElement(W,{className:a,ref:U[0],background:o,color:c,style:{height:Y}},n.createElement("audio",{src:E,ref:C,style:{display:"none"},preload:f,autoPlay:r}),t&&n.createElement(I,{src:t,style:{height:Y,width:Y,minHeight:Y,minWidth:Y}}),n.createElement(A,null,z&&n.createElement(K,{style:{fontSize:Z(24),width:$(B-(t?_:0)-20),margin:Z(12)+"px "+$(10)+"px "+Z(12)+"px "+$(10)+"px",minHeight:Z(30)}},z),n.createElement(J,{style:{fontSize:Z(16)}},void 0===b?n.createElement(G,{as:"div"}):n.createElement(G,{onClick:j(function(){return q(b)})},n.createElement(g,{seconds:b})),!P&&n.createElement(G,{onClick:R},n.createElement(v,null)),P&&n.createElement(G,{onClick:T},n.createElement(h,null)),void 0===y?n.createElement(G,{as:"div"}):n.createElement(G,{onClick:j(function(){return V(y)})},n.createElement(x,{seconds:y}))),i&&u&&n.createElement(Q,{href:i,style:{fontSize:Z(20)}},u),n.createElement(D,{style:{fontSize:Z(16)}},n.createElement(S,{value:H}),n.createElement(S,{value:L})),n.createElement(w,{value:H,total:L,color:c,background:p,completeBackground:k,seek:F,size:Z(20)})))},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=audiocard.umd.production.js.map
