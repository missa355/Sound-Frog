"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var n,t,r,a,o,l,c,i=require("tslib"),u=require("react"),s=e(u),p=require("styled-components"),d=e(p),m=e(require("react-use-dimensions")),f=function(e){return s.createElement("svg",i.__assign({viewBox:"0 0 1.25 1.25",display:"block"},e),s.createElement("path",{fill:"currentColor",d:"M.25.125l1 .5-1 .5z"}))},v=function(e){return s.createElement("svg",i.__assign({viewBox:"0 0 1 1",display:"block"},e),s.createElement("g",{fill:"currentColor"},s.createElement("path",{d:"M.15.15h.262v.7H.15zM.588.15H.85v.7H.588z"})))},g=function(e){var n=e.seconds,t=i.__rest(e,["seconds"]);return s.createElement("svg",i.__assign({viewBox:"0 0 71 71"},t),s.createElement("defs",null,s.createElement("clipPath",{id:"prefix__a"},s.createElement("path",{d:"M.5 71.5V.5h71v71z"}))),s.createElement("g",{clipPath:"url(#prefix__a)",transform:"matrix(-1 0 0 1 71 0)"},s.createElement("path",{d:"M61.5 35.5c0 7-2 14-8 20-10 11-28 11-39 0-10-11-10-28 0-39 6-6 14-8 21-8h1",fill:"none",strokeWidth:3,stroke:"currentColor",strokeLinecap:"square"}),s.createElement("path",{d:"M61.5 35.5h-6M12.5 35.5h-6M34.5 57.5v6",fill:"none",strokeWidth:3,stroke:"currentColor"}),s.createElement("path",{d:"M34 1l11 7-11 7v-1V0zM45 1l12 7-12 7v-1V0z",fill:"currentColor"})),s.createElement("text",{x:23,y:44,fontSize:23,fill:"currentColor",className:"prefix__svgcentertext"},n))},h=function(e){var n=e.seconds,t=i.__rest(e,["seconds"]);return s.createElement("svg",i.__assign({viewBox:"0 0 71 71"},t),s.createElement("defs",null,s.createElement("clipPath",{id:"prefix__a"},s.createElement("path",{d:"M.5 71.5V.5h71v71z"}))),s.createElement("g",{clipPath:"url(#prefix__a)"},s.createElement("path",{d:"M61.5 35.5c0 7-2 14-8 20-10 11-28 11-39 0-10-11-10-28 0-39 6-6 14-8 21-8h1",fill:"none",strokeWidth:3,stroke:"currentColor",strokeLinecap:"square"}),s.createElement("path",{d:"M61.5 35.5h-6M12.5 35.5h-6M34.5 57.5v6",fill:"none",strokeWidth:3,stroke:"currentColor"}),s.createElement("path",{d:"M34 1l11 7-11 7v-1V0zM45 1l12 7-12 7v-1V0z",fill:"currentColor"})),s.createElement("text",{x:22,y:44,fontSize:23,fill:"currentColor",className:"prefix__svgcentertext"},n))},k=function(e){var n=e.background,t=e.completeBackground,r=e.color,a=e.seek,o=e.total,l=e.value,c=e.size,i=s.useRef(null);return s.createElement(x,{ref:i,color:n,style:{height:c,minHeight:c}},s.createElement(_,{value:l,max:o||0,background:n,completeBackground:t}),s.createElement(z,{value:l,max:o||0,color:r,size:c,onChange:function(e){return a(Number(e.target.value))}}))},x=d.div(n||(n=i.__makeTemplateObject(["\n  position: relative;\n"],["\n  position: relative;\n"]))),b=p.css(t||(t=i.__makeTemplateObject(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n"],["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n"]))),w=function(e){var n=e.completeBackground;return p.css(r||(r=i.__makeTemplateObject(["\n  background-color: ",";\n"],["\n  background-color: ",";\n"])),n)},_=d.progress(a||(a=i.__makeTemplateObject(["\n  ","\n  background-color: ",";\n  box-shadow: inset 1px 1px 2px rgba(0, 0, 0, 0.3);\n  &[value]::-webkit-progress-value {\n    ","\n  }\n  &[value]::-moz-progress-value {\n    ","\n  }\n  &[value]::-webkit-progress-bar {\n    background-color: ",";\n  }\n"],["\n  ","\n  background-color: ",";\n  box-shadow: inset 1px 1px 2px rgba(0, 0, 0, 0.3);\n  &[value]::-webkit-progress-value {\n    ","\n  }\n  &[value]::-moz-progress-value {\n    ","\n  }\n  &[value]::-webkit-progress-bar {\n    background-color: ",";\n  }\n"])),b,function(e){return e.background},w,w,function(e){return e.background}),E=function(e){var n=e.color,t=e.size;return p.css(o||(o=i.__makeTemplateObject(["\n  background-color: ",";\n  height: ","px;\n  width: ","px;\n  appearance: none;\n  cursor: grab;\n"],["\n  background-color: ",";\n  height: ","px;\n  width: ","px;\n  appearance: none;\n  cursor: grab;\n"])),n,t,t/2)},y=p.css(l||(l=i.__makeTemplateObject(["\n  ","\n  background-color: transparent;\n  border: 0;\n  margin: 0;\n  appearance: none;\n"],["\n  ","\n  background-color: transparent;\n  border: 0;\n  margin: 0;\n  appearance: none;\n"])),b),z=d.input.attrs({type:"range"})(c||(c=i.__makeTemplateObject(["\n  &:focus {\n    outline: none;\n  }\n  ","\n  &[value]::-moz-range-track {\n    ","\n  }\n  &[value]::-webkit-slider-thumb {\n    ","\n  }\n  &[value]::-moz-slider-thumb {\n    ","\n  }\n"],["\n  &:focus {\n    outline: none;\n  }\n  ","\n  &[value]::-moz-range-track {\n    ","\n  }\n  &[value]::-webkit-slider-thumb {\n    ","\n  }\n  &[value]::-moz-slider-thumb {\n    ","\n  }\n"])),y,y,E,E);function j(e){return u.createElement("div",{className:e.className},function(e){if(void 0===e||isNaN(e))return"-:--";var n=Math.floor(e/3600),t=Math.floor(e/60)%60,r=Math.floor(e%60);return(n?n+":":"")+(n?("0"+t).slice(-2):t)+":"+("0"+r).slice(-2)}(e.value))}function M(e,n){Object.keys(n).forEach(function(t){return function(e,n,t){var r=u.useRef();u.useEffect(function(){r.current=t},[t]),u.useEffect(function(){var t=function(e){return r.current&&r.current(e)};return e.current&&e.current.addEventListener(n,t),function(){e.current&&e.current.removeEventListener(n,t)}},[n,e.current])}(e,t,n[t])})}function T(e){return function(n){n.preventDefault(),e()}}var C=750,O=225,B=C/O;var S,N,H,q,P,V,F,R,W=d.div(S||(S=i.__makeTemplateObject(["\n  width: 100%;\n  max-width: 100%;\n  display: flex;\n  flex-flow: row nowrap;\n  * {\n    font-family: 'San Francisco', 'Helvetica Neue', Helvetica, sans-serif;\n    line-height: 1em;\n  }\n  ","\n  color: ",";\n  a {\n    color: ",";\n    text-decoration: none;\n    &:active {\n      color: ",";\n    }\n  }\n"],["\n  width: 100%;\n  max-width: 100%;\n  display: flex;\n  flex-flow: row nowrap;\n  * {\n    font-family: 'San Francisco', 'Helvetica Neue', Helvetica, sans-serif;\n    line-height: 1em;\n  }\n  ","\n  color: ",";\n  a {\n    color: ",";\n    text-decoration: none;\n    &:active {\n      color: ",";\n    }\n  }\n"])),function(e){var n=e.background;return n&&"background-color: "+n+";"},function(e){return e.color},function(e){return e.color},function(e){return e.color}),L=d.div(N||(N=i.__makeTemplateObject(["\n  flex: 1;\n  display: flex;\n  flex-flow: column nowrap;\n  padding: 0;\n"],["\n  flex: 1;\n  display: flex;\n  flex-flow: column nowrap;\n  padding: 0;\n"]))),D=d.div(H||(H=i.__makeTemplateObject(["\n  flex: 1;\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: space-between;\n"],["\n  flex: 1;\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: space-between;\n"]))),A=d.div(q||(q=i.__makeTemplateObject(["\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: space-between;\n  margin: 0 5px 5px 5px;\n"],["\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: space-between;\n  margin: 0 5px 5px 5px;\n"]))),G=d.a.attrs({href:"#"})(P||(P=i.__makeTemplateObject(["\n  text-decoration: none;\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: center;\n  margin: 5px;\n  width: 15%;\n"],["\n  text-decoration: none;\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: center;\n  margin: 5px;\n  width: 15%;\n"]))),I=d.img(V||(V=i.__makeTemplateObject([""],[""]))),J=d.div(F||(F=i.__makeTemplateObject(["\n  text-align: center;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"],["\n  text-align: center;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]))),K=d.a.attrs({target:"_blank"})(R||(R=i.__makeTemplateObject(["\n  display: block;\n  text-align: center;\n  &:hover {\n    text-decoration: underline;\n  }\n"],["\n  display: block;\n  text-align: center;\n  &:hover {\n    text-decoration: underline;\n  }\n"])));module.exports=function(e){var n=e.art,t=e.autoPlay,r=e.background,a=e.className,o=e.color,l=void 0===o?"#666":o,c=e.link,i=e.linkText,s=e.preload,p=void 0===s?"none":s,d=e.progressBarBackground,x=void 0===d?"#ddd":d,b=e.progressBarCompleteBackground,w=void 0===b?"#aaa":b,_=e.skipBackSeconds,E=e.skipForwardSeconds,y=e.source,z=e.title,S=function(){var e=u.useState(!1),n=e[0],t=e[1],r=u.useState(),a=r[0],o=r[1],l=u.useState(0),c=l[0],i=l[1],s=u.useRef(null),p=function(){return o(s.current?s.current.duration:void 0)},d=function(){return i(s.current?s.current.currentTime:0)};return M(s,{play:function(){return t(!0)},pause:function(){return t(!1)},ended:function(){return t(!1)},durationchange:p,seeked:d,timeupdate:d,loadedmetadata:p}),{playerRef:s,playing:n,time:c,duration:a,play:T(function(){return s.current&&s.current.play()}),pause:T(function(){return s.current&&s.current.pause()}),seek:function(e){return s.current&&(s.current.currentTime=e<0?0:Math.min(e,s.current.duration))},skipForward:function(e){return s.current&&(s.current.currentTime=Math.min(s.current.currentTime+e,s.current.duration))},skipBack:function(e){return s.current&&(s.current.currentTime=Math.max(s.current.currentTime-e,0))}}}(),N=S.playerRef,H=S.playing,q=S.time,P=S.duration,V=S.play,F=S.pause,R=S.seek,Q=S.skipForward,U=S.skipBack,X=m(),Y=X[1].width,Z=Y/B,$=function(e){return e*Z/O},ee=function(e){return e*Y/C};return u.createElement(W,{className:a,ref:X[0],background:r,color:l,style:{height:Z}},u.createElement("audio",{src:y,ref:N,style:{display:"none"},preload:p,autoPlay:t}),n&&u.createElement(I,{src:n,style:{height:Z,width:Z,minHeight:Z,minWidth:Z}}),u.createElement(L,null,z&&u.createElement(J,{style:{fontSize:$(24),width:ee(C-(n?O:0)-20),margin:$(12)+"px "+ee(10)+"px "+$(12)+"px "+ee(10)+"px",minHeight:$(30)}},z),u.createElement(D,{style:{fontSize:$(16)}},void 0===_?u.createElement(G,{as:"div"}):u.createElement(G,{onClick:T(function(){return U(_)})},u.createElement(g,{seconds:_})),!H&&u.createElement(G,{onClick:V},u.createElement(f,null)),H&&u.createElement(G,{onClick:F},u.createElement(v,null)),void 0===E?u.createElement(G,{as:"div"}):u.createElement(G,{onClick:T(function(){return Q(E)})},u.createElement(h,{seconds:E}))),c&&i&&u.createElement(K,{href:c,style:{fontSize:$(20)}},i),u.createElement(A,{style:{fontSize:$(16)}},u.createElement(j,{value:q}),u.createElement(j,{value:P})),u.createElement(k,{value:q,total:P,color:l,background:x,completeBackground:w,seek:R,size:$(20)})))};
//# sourceMappingURL=audiocard.cjs.production.js.map
