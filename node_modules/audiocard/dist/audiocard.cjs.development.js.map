{"version":3,"file":"audiocard.cjs.development.js","sources":["../src/controls/Play.tsx","../src/controls/Pause.tsx","../src/controls/SkipBack.tsx","../src/controls/SkipForward.tsx","../src/components/ProgressBar.tsx","../src/components/Time.tsx","../src/hooks/useListeners.ts","../src/util.ts","../src/hooks/useAudioPlayer.ts","../src/AudioCard.tsx"],"sourcesContent":["import React from 'react'\n\ninterface Props {\n  className?: string\n}\n\nexport const Play = (props: Props) => (\n  <svg viewBox=\"0 0 1.25 1.25\" display=\"block\" {...props}>\n    <path fill=\"currentColor\" d=\"M.25.125l1 .5-1 .5z\" />\n  </svg>\n)\n","import React from 'react'\n\ninterface Props {\n  className?: string\n}\n\nexport const Pause = (props: Props) => (\n  <svg viewBox=\"0 0 1 1\" display=\"block\" {...props}>\n    <g fill=\"currentColor\">\n      <path d=\"M.15.15h.262v.7H.15zM.588.15H.85v.7H.588z\" />\n    </g>\n  </svg>\n)\n","import React from 'react'\n\ninterface Props {\n  seconds: number\n  className?: string\n}\n\nexport const SkipBack = ({ seconds, ...rest }: Props) => (\n  <svg viewBox=\"0 0 71 71\" {...rest}>\n    <defs>\n      <clipPath id=\"prefix__a\">\n        <path d=\"M.5 71.5V.5h71v71z\" />\n      </clipPath>\n    </defs>\n    <g clipPath=\"url(#prefix__a)\" transform=\"matrix(-1 0 0 1 71 0)\">\n      <path\n        d=\"M61.5 35.5c0 7-2 14-8 20-10 11-28 11-39 0-10-11-10-28 0-39 6-6 14-8 21-8h1\"\n        fill=\"none\"\n        strokeWidth={3}\n        stroke=\"currentColor\"\n        strokeLinecap=\"square\"\n      />\n      <path\n        d=\"M61.5 35.5h-6M12.5 35.5h-6M34.5 57.5v6\"\n        fill=\"none\"\n        strokeWidth={3}\n        stroke=\"currentColor\"\n      />\n      <path\n        d=\"M34 1l11 7-11 7v-1V0zM45 1l12 7-12 7v-1V0z\"\n        fill=\"currentColor\"\n      />\n    </g>\n    <text\n      x={23}\n      y={44}\n      fontSize={23}\n      fill=\"currentColor\"\n      className=\"prefix__svgcentertext\"\n    >\n      {seconds}\n    </text>\n  </svg>\n)\n","import React from 'react'\n\ninterface Props {\n  seconds: number\n  className?: string\n}\n\nexport const SkipForward = ({ seconds, ...rest }: Props) => (\n  <svg viewBox=\"0 0 71 71\" {...rest}>\n    <defs>\n      <clipPath id=\"prefix__a\">\n        <path d=\"M.5 71.5V.5h71v71z\" />\n      </clipPath>\n    </defs>\n    <g clipPath=\"url(#prefix__a)\">\n      <path\n        d=\"M61.5 35.5c0 7-2 14-8 20-10 11-28 11-39 0-10-11-10-28 0-39 6-6 14-8 21-8h1\"\n        fill=\"none\"\n        strokeWidth={3}\n        stroke=\"currentColor\"\n        strokeLinecap=\"square\"\n      />\n      <path\n        d=\"M61.5 35.5h-6M12.5 35.5h-6M34.5 57.5v6\"\n        fill=\"none\"\n        strokeWidth={3}\n        stroke=\"currentColor\"\n      />\n      <path\n        d=\"M34 1l11 7-11 7v-1V0zM45 1l12 7-12 7v-1V0z\"\n        fill=\"currentColor\"\n      />\n    </g>\n    <text\n      x={22}\n      y={44}\n      fontSize={23}\n      fill=\"currentColor\"\n      className=\"prefix__svgcentertext\"\n    >\n      {seconds}\n    </text>\n  </svg>\n)\n","import React from 'react'\nimport styled, { css } from 'styled-components'\n\ninterface Props {\n  total: number | void\n  value: number\n  color: string\n  background: string\n  completeBackground: string\n  seek: (value: number) => void\n  size: number\n}\n\nexport const ProgressBar = ({\n  background,\n  completeBackground,\n  color,\n  seek,\n  total,\n  value,\n  size\n}: Props) => {\n  const element = React.useRef<HTMLDivElement>(null)\n\n  return (\n    <Container\n      ref={element}\n      color={background}\n      style={{ height: size, minHeight: size }}\n    >\n      <Progress\n        value={value}\n        max={total || 0}\n        background={background}\n        completeBackground={completeBackground}\n      />\n      <Slider\n        value={value}\n        max={total || 0}\n        color={color}\n        size={size}\n        onChange={(event: React.ChangeEvent<HTMLInputElement>) =>\n          seek(Number(event.target.value))\n        }\n      />\n    </Container>\n  )\n}\n\ninterface ContainerProps {\n  color: string\n}\nconst Container = styled.div<ContainerProps>`\n  position: relative;\n`\n\nconst fullWidth = css`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n`\n\ninterface ProgressProps {\n  background: string\n  completeBackground: string\n}\nconst progressStyles = ({ completeBackground }: ProgressProps) => css`\n  background-color: ${completeBackground};\n`\nconst Progress = styled.progress<ProgressProps>`\n  ${fullWidth}\n  background-color: ${props => props.background};\n  box-shadow: inset 1px 1px 2px rgba(0, 0, 0, 0.3);\n  &[value]::-webkit-progress-value {\n    ${progressStyles}\n  }\n  &[value]::-moz-progress-value {\n    ${progressStyles}\n  }\n  &[value]::-webkit-progress-bar {\n    background-color: ${props => props.background};\n  }\n`\n\ninterface SliderProps {\n  color: string\n  size: number\n}\nconst thumbStyles = ({ color, size }: SliderProps) => css`\n  background-color: ${color};\n  height: ${size}px;\n  width: ${size / 2}px;\n  appearance: none;\n  cursor: grab;\n`\nconst rangeStyles = css`\n  ${fullWidth}\n  background-color: transparent;\n  border: 0;\n  margin: 0;\n  appearance: none;\n`\nconst Slider = styled.input.attrs({ type: 'range' })<SliderProps>`\n  &:focus {\n    outline: none;\n  }\n  ${rangeStyles}\n  &[value]::-moz-range-track {\n    ${rangeStyles}\n  }\n  &[value]::-webkit-slider-thumb {\n    ${thumbStyles}\n  }\n  &[value]::-moz-slider-thumb {\n    ${thumbStyles}\n  }\n`\n","import * as React from 'react'\n\ninterface Props {\n  className?: string\n  value: number | void\n}\nexport function Time({ className, value }: Props) {\n  return <div className={className}>{secondsToHHMMSS(value)}</div>\n}\n\nfunction secondsToHHMMSS(t: number | void) {\n  if (t === undefined || isNaN(t)) return '-:--'\n  var h = Math.floor(t / 3600)\n  var m = Math.floor(t / 60) % 60\n  var s = Math.floor(t % 60)\n  return `${h ? h + ':' : ''}${h ? ('0' + m).slice(-2) : m}:${('0' + s).slice(\n    -2\n  )}`\n}\n","import * as React from 'react'\n\nexport interface Listenable {\n  addEventListener: (eventName: string, listener: EventListener) => void\n  removeEventListener: (eventName: string, listener: EventListener) => void\n}\n\nfunction useListener(\n  element: React.RefObject<Listenable>,\n  eventName: string,\n  listener: EventListener\n) {\n  const savedListener = React.useRef<EventListener>()\n  React.useEffect(() => {\n    savedListener.current = listener\n  }, [listener])\n\n  React.useEffect(() => {\n    const eventListener: EventListener = event =>\n      savedListener.current && savedListener.current(event)\n    if (element.current) {\n      element.current.addEventListener(eventName, eventListener)\n    }\n    return () => {\n      if (element.current) {\n        element.current.removeEventListener(eventName, eventListener)\n      }\n    }\n  }, [eventName, element.current])\n}\n\nexport function useListeners(\n  element: React.RefObject<Listenable>,\n  listeners: Record<string, EventListener>\n) {\n  Object.keys(listeners).forEach(eventName =>\n    useListener(element, eventName, listeners[eventName])\n  )\n}\n","export function preventDefault(fn: () => void) {\n  return (event: React.SyntheticEvent<any>) => {\n    event.preventDefault()\n    fn()\n  }\n}\n","import * as React from 'react'\nimport { useListeners } from './useListeners'\nimport { preventDefault } from '../util'\n\nexport function useAudioPlayer() {\n  const [playing, setPlaying] = React.useState(false)\n  const [duration, setDuration] = React.useState<number | void>()\n  const [time, setTime] = React.useState(0)\n  const player = React.useRef<HTMLAudioElement>(null)\n\n  const updateDuration = () =>\n    setDuration(player.current ? player.current.duration : undefined)\n  const updateTime = () =>\n    setTime(player.current ? player.current.currentTime : 0)\n\n  useListeners(player, {\n    play: () => setPlaying(true),\n    pause: () => setPlaying(false),\n    ended: () => setPlaying(false),\n    durationchange: updateDuration,\n    seeked: updateTime,\n    timeupdate: updateTime,\n    loadedmetadata: updateDuration\n  })\n\n  return {\n    playerRef: player,\n    playing,\n    time,\n    duration,\n    play: preventDefault(() => player.current && player.current.play()),\n    pause: preventDefault(() => player.current && player.current.pause()),\n    seek: (time: number) =>\n      player.current &&\n      (player.current.currentTime =\n        time < 0 ? 0 : Math.min(time, player.current.duration)),\n    skipForward: (amount: number) =>\n      player.current &&\n      (player.current.currentTime = Math.min(\n        player.current.currentTime + amount,\n        player.current.duration\n      )),\n    skipBack: (amount: number) =>\n      player.current &&\n      (player.current.currentTime = Math.max(\n        player.current.currentTime - amount,\n        0\n      ))\n  }\n}\n","import * as React from 'react'\nimport styled from 'styled-components'\nimport { Play, Pause, SkipBack, SkipForward } from './controls'\nimport { ProgressBar, Time } from './components'\nimport { useAudioPlayer } from './hooks/useAudioPlayer'\nimport { preventDefault } from './util'\nimport useDimensions from 'react-use-dimensions'\n\nexport interface AudioCardProps {\n  /** Optional artwork for the song or podcast episode */\n  art?: string\n  /** Whether or not to automatically start playback upon mount */\n  autoPlay?: boolean\n  /** Background color for entire card */\n  background?: string\n  /** Optional class name to apply to the resulting container element */\n  className?: string\n  /**\n   * Primary color for controls\n   *\n   * @default '#666'\n   **/\n  color?: string\n  /**\n   * Optional url for a hyperlink to be rendered. Will only render if\n   * you include both link and linkText.\n   **/\n  link?: string\n  /**\n   * Optional text for a hyperlink to be rendered. Will only render if\n   * you include both link and linkText.\n   **/\n  linkText?: string\n  /**\n   * Whether or not to preload the MP3 file.\n   *\n   * @default 'none'\n   **/\n  preload?: 'auto' | 'metadata' | 'none'\n  /**\n   * Background for entire progress bar.\n   *\n   * @default '#DDD'\n   **/\n  progressBarBackground?: string\n  /**\n   * Background for the part to the left of the scrubber handle\n   *\n   * @default '#AAA'\n   **/\n  progressBarCompleteBackground?: string\n  /**\n   * Optional number of seconds to skip back when the \"skip back\"\n   * control is activated. If not provided, the \"skip back\" button\n   * will not be rendered. */\n  skipBackSeconds?: number\n  /**\n   * Optional number of seconds to skip forward when the \"skip forward\"\n   * control is activated. If not provided, the \"skip forward\" button\n   * will not be rendered.  */\n  skipForwardSeconds?: number\n\n  /** URL of the MP3 file to play */\n  source: string\n  /** Optional title of the song or podcast episode */\n  title?: string\n}\n\nconst canonicalWidth = 750\nconst canonicalHeight = 225\nconst aspectRatio = canonicalWidth / canonicalHeight\n\nexport function AudioCard({\n  art,\n  autoPlay,\n  background,\n  className,\n  color = '#666',\n  link,\n  linkText,\n  preload = 'none',\n  progressBarBackground = '#ddd',\n  progressBarCompleteBackground = '#aaa',\n  skipBackSeconds,\n  skipForwardSeconds,\n  source,\n  title\n}: AudioCardProps) {\n  const {\n    playerRef,\n    playing,\n    time,\n    duration,\n    play,\n    pause,\n    seek,\n    skipForward,\n    skipBack\n  } = useAudioPlayer()\n  const [ref, { width }] = useDimensions()\n  const height = width / aspectRatio\n  const h = (value: number) => (value * height) / canonicalHeight\n  const w = (value: number) => (value * width) / canonicalWidth\n  return (\n    <Container\n      className={className}\n      ref={ref}\n      background={background}\n      color={color}\n      style={{ height }}\n    >\n      <audio\n        src={source}\n        ref={playerRef}\n        style={{ display: 'none' }}\n        preload={preload}\n        autoPlay={autoPlay}\n      />\n      {art && (\n        <Art\n          src={art}\n          style={{ height, width: height, minHeight: height, minWidth: height }}\n        />\n      )}\n      <Content>\n        {title && (\n          <Title\n            style={{\n              fontSize: h(24),\n              width: w(canonicalWidth - (art ? canonicalHeight : 0) - 20),\n              margin: `${h(12)}px ${w(10)}px ${h(12)}px ${w(10)}px`,\n              minHeight: h(30)\n            }}\n          >\n            {title}\n          </Title>\n        )}\n        <Controls style={{ fontSize: h(16) }}>\n          {skipBackSeconds === undefined ? (\n            <Control as=\"div\" />\n          ) : (\n            <Control onClick={preventDefault(() => skipBack(skipBackSeconds))}>\n              <SkipBack seconds={skipBackSeconds} />\n            </Control>\n          )}\n          {!playing && (\n            <Control onClick={play}>\n              <Play />\n            </Control>\n          )}\n          {playing && (\n            <Control onClick={pause}>\n              <Pause />\n            </Control>\n          )}\n          {skipForwardSeconds === undefined ? (\n            <Control as=\"div\" />\n          ) : (\n            <Control\n              onClick={preventDefault(() => skipForward(skipForwardSeconds))}\n            >\n              <SkipForward seconds={skipForwardSeconds} />\n            </Control>\n          )}\n        </Controls>\n        {link && linkText && (\n          <Link href={link} style={{ fontSize: h(20) }}>\n            {linkText}\n          </Link>\n        )}\n        <Times style={{ fontSize: h(16) }}>\n          <Time value={time} />\n          <Time value={duration} />\n        </Times>\n        <ProgressBar\n          value={time}\n          total={duration}\n          color={color}\n          background={progressBarBackground}\n          completeBackground={progressBarCompleteBackground}\n          seek={seek}\n          size={h(20)}\n        />\n      </Content>\n    </Container>\n  )\n}\n\ninterface ContainerProps {\n  background?: string\n  color: string\n}\nconst Container = styled.div<ContainerProps>`\n  width: 100%;\n  max-width: 100%;\n  display: flex;\n  flex-flow: row nowrap;\n  * {\n    font-family: 'San Francisco', 'Helvetica Neue', Helvetica, sans-serif;\n    line-height: 1em;\n  }\n  ${({ background }) => background && `background-color: ${background};`}\n  color: ${({ color }) => color};\n  a {\n    color: ${({ color }) => color};\n    text-decoration: none;\n    &:active {\n      color: ${({ color }) => color};\n    }\n  }\n`\n\nconst Content = styled.div`\n  flex: 1;\n  display: flex;\n  flex-flow: column nowrap;\n  padding: 0;\n`\n\nconst Controls = styled.div`\n  flex: 1;\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: space-between;\n`\n\nconst Times = styled.div`\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: space-between;\n  margin: 0 5px 5px 5px;\n`\n\nconst Control = styled.a.attrs({ href: '#' })`\n  text-decoration: none;\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: center;\n  margin: 5px;\n  width: 15%;\n`\n\nconst Art = styled.img``\n\nconst Title = styled.div`\n  text-align: center;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`\n\nconst Link = styled.a.attrs({ target: '_blank' })`\n  display: block;\n  text-align: center;\n  &:hover {\n    text-decoration: underline;\n  }\n`\n"],"names":["React","styled","css","React.createElement","React.useRef","React.useEffect","Container"],"mappings":"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"}